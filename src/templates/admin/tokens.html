{{template "head" .}}
{{template "admin_nav" .}}
{{template "admin_header" .}}

<!-- Main Content -->
<main class="container" style="max-width: 1400px; margin: 0 auto; padding: 2rem;">
    <!-- Header with Actions -->
    <div class="page-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h1 style="margin: 0; font-size: 2rem; color: var(--dracula-purple);">üîë API Token Management</h1>
            <p style="margin: 0.5rem 0 0 0; color: var(--dracula-comment);">Manage API authentication tokens and access control</p>
        </div>
        <button class="btn btn-primary" onclick="openCreateTokenModal()">
            ‚ûï Generate Token
        </button>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
        <div class="card" style="background: var(--dracula-current-line); padding: 1.5rem; border-radius: 8px;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="font-size: 2.5rem;">üîë</span>
                <div>
                    <div style="font-size: 0.875rem; color: var(--dracula-comment);">Total Tokens</div>
                    <div style="font-size: 1.75rem; font-weight: 700; color: var(--dracula-cyan);" id="stat-total">0</div>
                </div>
            </div>
        </div>
        <div class="card" style="background: var(--dracula-current-line); padding: 1.5rem; border-radius: 8px;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="font-size: 2.5rem;">‚úÖ</span>
                <div>
                    <div style="font-size: 0.875rem; color: var(--dracula-comment);">Active Tokens</div>
                    <div style="font-size: 1.75rem; font-weight: 700; color: var(--dracula-green);" id="stat-active">0</div>
                </div>
            </div>
        </div>
        <div class="card" style="background: var(--dracula-current-line); padding: 1.5rem; border-radius: 8px;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="font-size: 2.5rem;">‚è∞</span>
                <div>
                    <div style="font-size: 0.875rem; color: var(--dracula-comment);">Expired Tokens</div>
                    <div style="font-size: 1.75rem; font-weight: 700; color: var(--dracula-orange);" id="stat-expired">0</div>
                </div>
            </div>
        </div>
        <div class="card" style="background: var(--dracula-current-line); padding: 1.5rem; border-radius: 8px;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="font-size: 2.5rem;">üìä</span>
                <div>
                    <div style="font-size: 0.875rem; color: var(--dracula-comment);">API Requests (24h)</div>
                    <div style="font-size: 1.75rem; font-weight: 700; color: var(--dracula-purple);" id="stat-requests">0</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Filters and Search -->
    <div class="card" style="background: var(--dracula-current-line); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
        <div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
            <div style="flex: 1; min-width: 250px;">
                <input type="text" id="searchInput" placeholder="üîç Search by name or user..."
                    onkeyup="filterTokens()"
                    style="width: 100%; padding: 0.75rem; background: var(--dracula-bg); border: 1px solid var(--dracula-comment); border-radius: 6px; color: var(--dracula-foreground);">
            </div>
            <div>
                <select id="statusFilter" onchange="filterTokens()"
                    style="padding: 0.75rem; background: var(--dracula-bg); border: 1px solid var(--dracula-comment); border-radius: 6px; color: var(--dracula-foreground); min-width: 150px;">
                    <option value="">All Status</option>
                    <option value="active">Active</option>
                    <option value="expired">Expired</option>
                </select>
            </div>
            <div>
                <select id="userFilter" onchange="filterTokens()"
                    style="padding: 0.75rem; background: var(--dracula-bg); border: 1px solid var(--dracula-comment); border-radius: 6px; color: var(--dracula-foreground); min-width: 150px;">
                    <option value="">All Users</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Tokens Table -->
    <div class="card" style="background: var(--dracula-current-line); border-radius: 8px; overflow: hidden;">
        <div class="overflow-auto">
            <table class="table" id="tokensTable" style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: var(--dracula-bg); border-bottom: 2px solid var(--dracula-purple);">
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">ID</th>
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">Name</th>
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">User</th>
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">Scopes</th>
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">Rate Limit</th>
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">Created</th>
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">Last Used</th>
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">Status</th>
                        <th style="padding: 1rem; text-align: left; color: var(--dracula-purple); font-weight: 600;">Actions</th>
                    </tr>
                </thead>
                <tbody id="tokensTableBody">
                    <!-- Populated by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Pagination -->
        <div id="pagination" style="padding: 1.5rem; display: flex; justify-content: center; gap: 0.5rem; border-top: 1px solid var(--dracula-comment);">
            <!-- Populated by JavaScript -->
        </div>
    </div>
</main>

<!-- Create Token Modal -->
<div id="createTokenModal" class="modal-overlay">
    <div class="modal" style="max-width: 600px; background: var(--dracula-bg); border-radius: 12px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
        <div class="modal-header" style="padding: 1.5rem; border-bottom: 1px solid var(--dracula-current-line); display: flex; justify-content: space-between; align-items: center;">
            <h2 style="margin: 0; color: var(--dracula-purple);">Generate New API Token</h2>
            <button class="modal-close" onclick="Modal.close('createTokenModal')" style="background: none; border: none; font-size: 1.5rem; color: var(--dracula-comment); cursor: pointer;">&times;</button>
        </div>
        <form id="createTokenForm" onsubmit="createToken(event)">
            <div style="padding: 1.5rem;">
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="create_name" style="display: block; margin-bottom: 0.5rem; color: var(--dracula-foreground); font-weight: 500;">Token Name *</label>
                    <input type="text" id="create_name" required
                        placeholder="e.g., Mobile App, Third-party Integration"
                        style="width: 100%; padding: 0.75rem; background: var(--dracula-current-line); border: 1px solid var(--dracula-comment); border-radius: 6px; color: var(--dracula-foreground);">
                    <small style="display: block; margin-top: 0.25rem; color: var(--dracula-comment);">A descriptive name to identify this token</small>
                </div>
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="create_user_id" style="display: block; margin-bottom: 0.5rem; color: var(--dracula-foreground); font-weight: 500;">User *</label>
                    <select id="create_user_id" required
                        style="width: 100%; padding: 0.75rem; background: var(--dracula-current-line); border: 1px solid var(--dracula-comment); border-radius: 6px; color: var(--dracula-foreground);">
                        <option value="">Select user...</option>
                    </select>
                    <small style="display: block; margin-top: 0.25rem; color: var(--dracula-comment);">The user this token belongs to</small>
                </div>
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="create_scopes" style="display: block; margin-bottom: 0.5rem; color: var(--dracula-foreground); font-weight: 500;">Scopes</label>
                    <input type="text" id="create_scopes"
                        placeholder="e.g., weather:read,forecast:read"
                        style="width: 100%; padding: 0.75rem; background: var(--dracula-current-line); border: 1px solid var(--dracula-comment); border-radius: 6px; color: var(--dracula-foreground);">
                    <small style="display: block; margin-top: 0.25rem; color: var(--dracula-comment);">Comma-separated list of permissions (leave empty for all)</small>
                </div>
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="create_rate_limit" style="display: block; margin-bottom: 0.5rem; color: var(--dracula-foreground); font-weight: 500;">Rate Limit (requests/hour) *</label>
                    <input type="number" id="create_rate_limit" required min="1" max="10000" value="1200"
                        style="width: 100%; padding: 0.75rem; background: var(--dracula-current-line); border: 1px solid var(--dracula-comment); border-radius: 6px; color: var(--dracula-foreground);">
                    <small style="display: block; margin-top: 0.25rem; color: var(--dracula-comment);">Maximum API requests per hour (default: 1200)</small>
                </div>
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="create_expires_at" style="display: block; margin-bottom: 0.5rem; color: var(--dracula-foreground); font-weight: 500;">Expires At</label>
                    <input type="datetime-local" id="create_expires_at"
                        style="width: 100%; padding: 0.75rem; background: var(--dracula-current-line); border: 1px solid var(--dracula-comment); border-radius: 6px; color: var(--dracula-foreground);">
                    <small style="display: block; margin-top: 0.25rem; color: var(--dracula-comment);">Leave empty for no expiration</small>
                </div>
            </div>
            <div class="modal-footer" style="padding: 1.5rem; border-top: 1px solid var(--dracula-current-line); display: flex; gap: 1rem; justify-content: flex-end;">
                <button type="button" class="btn btn-secondary" onclick="Modal.close('createTokenModal')"
                    style="padding: 0.75rem 1.5rem; background: var(--dracula-comment); color: var(--dracula-foreground); border: none; border-radius: 6px; cursor: pointer;">Cancel</button>
                <button type="submit" class="btn btn-primary"
                    style="padding: 0.75rem 1.5rem; background: var(--dracula-purple); color: var(--dracula-bg); border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Generate Token</button>
            </div>
        </form>
    </div>
</div>

<!-- Token Display Modal -->
<div id="tokenDisplayModal" class="modal-overlay">
    <div class="modal" style="max-width: 700px; background: var(--dracula-bg); border-radius: 12px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
        <div class="modal-header" style="padding: 1.5rem; border-bottom: 1px solid var(--dracula-current-line); display: flex; justify-content: space-between; align-items: center;">
            <h2 style="margin: 0; color: var(--dracula-green);">‚úì Token Generated Successfully</h2>
            <button class="modal-close" onclick="Modal.close('tokenDisplayModal')" style="background: none; border: none; font-size: 1.5rem; color: var(--dracula-comment); cursor: pointer;">&times;</button>
        </div>
        <div style="padding: 1.5rem;">
            <div style="background: var(--dracula-current-line); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--dracula-orange); margin-bottom: 1.5rem;">
                <p style="margin: 0 0 0.5rem 0; color: var(--dracula-orange); font-weight: 600;">‚ö†Ô∏è Important: Save this token now!</p>
                <p style="margin: 0; color: var(--dracula-comment); font-size: 0.875rem;">For security reasons, this token will only be shown once. Copy it now and store it securely.</p>
            </div>
            <div style="background: var(--dracula-bg); padding: 1rem; border-radius: 6px; border: 1px solid var(--dracula-comment); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; gap: 1rem;">
                    <code id="generatedToken" style="flex: 1; color: var(--dracula-cyan); font-family: 'Courier New', monospace; font-size: 0.875rem; word-break: break-all;"></code>
                    <button onclick="copyToken()" class="btn btn-sm"
                        style="padding: 0.5rem 1rem; background: var(--dracula-purple); color: var(--dracula-bg); border: none; border-radius: 4px; cursor: pointer; white-space: nowrap;">
                        üìã Copy
                    </button>
                </div>
            </div>
            <div style="background: var(--dracula-current-line); padding: 1rem; border-radius: 6px;">
                <h3 style="margin: 0 0 0.75rem 0; font-size: 1rem; color: var(--dracula-foreground);">How to use this token:</h3>
                <pre style="margin: 0; color: var(--dracula-comment); font-size: 0.875rem; overflow-x: auto;"><code>curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:3000/api/v1/weather?location=NYC</code></pre>
            </div>
        </div>
        <div class="modal-footer" style="padding: 1.5rem; border-top: 1px solid var(--dracula-current-line); display: flex; justify-content: flex-end;">
            <button type="button" class="btn btn-primary" onclick="Modal.close('tokenDisplayModal')"
                style="padding: 0.75rem 1.5rem; background: var(--dracula-purple); color: var(--dracula-bg); border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">I've Saved the Token</button>
        </div>
    </div>
</div>

<script>
    let tokens = [];
    let users = [];
    let currentPage = 1;
    const pageSize = 20;

    // Load data on page load
    document.addEventListener('DOMContentLoaded', function() {
        loadUsers();
        loadTokens();
    });

    // Load all users from API
    async function loadUsers() {
        try {
            const response = await fetch('/api/v1/admin/users');
            if (!response.ok) throw new Error('Failed to load users');

            users = await response.json();

            // Populate user dropdowns
            populateUserDropdowns();
        } catch (error) {
            Toast.error('Failed to load users: ' + error.message);
            console.error('Error loading users:', error);
        }
    }

    // Populate user dropdowns
    function populateUserDropdowns() {
        const createSelect = document.getElementById('create_user_id');
        const filterSelect = document.getElementById('userFilter');

        // Clear existing options (except first)
        createSelect.innerHTML = '<option value="">Select user...</option>';
        filterSelect.innerHTML = '<option value="">All Users</option>';

        users.forEach(user => {
            const createOption = document.createElement('option');
            createOption.value = user.id;
            createOption.textContent = `${user.email} ${user.display_name ? '(' + user.display_name + ')' : ''}`;
            createSelect.appendChild(createOption);

            const filterOption = document.createElement('option');
            filterOption.value = user.id;
            filterOption.textContent = user.email;
            filterSelect.appendChild(filterOption);
        });
    }

    // Load all tokens from API
    async function loadTokens() {
        try {
            const response = await fetch('/api/v1/admin/tokens');
            if (!response.ok) throw new Error('Failed to load tokens');

            tokens = await response.json();
            updateStats();
            renderTokens();
        } catch (error) {
            Toast.error('Failed to load tokens: ' + error.message);
            console.error('Error loading tokens:', error);
        }
    }

    // Update statistics
    function updateStats() {
        const total = tokens.length;
        const now = new Date();
        const active = tokens.filter(t => !t.expires_at || new Date(t.expires_at) > now).length;
        const expired = tokens.filter(t => t.expires_at && new Date(t.expires_at) <= now).length;

        document.getElementById('stat-total').textContent = total;
        document.getElementById('stat-active').textContent = active;
        document.getElementById('stat-expired').textContent = expired;

        // TODO: Load actual API request stats
        document.getElementById('stat-requests').textContent = '‚Äî';
    }

    // Filter tokens based on search and filters
    function filterTokens() {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        const statusFilter = document.getElementById('statusFilter').value;
        const userFilter = document.getElementById('userFilter').value;

        let filtered = tokens.filter(token => {
            const user = users.find(u => u.id === token.user_id);
            const userName = user ? user.email.toLowerCase() : '';

            const matchesSearch = !searchTerm ||
                token.name.toLowerCase().includes(searchTerm) ||
                userName.includes(searchTerm);

            const now = new Date();
            const isExpired = token.expires_at && new Date(token.expires_at) <= now;
            const matchesStatus = !statusFilter ||
                (statusFilter === 'active' && !isExpired) ||
                (statusFilter === 'expired' && isExpired);

            const matchesUser = !userFilter || token.user_id.toString() === userFilter;

            return matchesSearch && matchesStatus && matchesUser;
        });

        currentPage = 1;
        renderTokens(filtered);
    }

    // Render tokens table
    function renderTokens(filteredTokens = null) {
        const dataToRender = filteredTokens || tokens;
        const start = (currentPage - 1) * pageSize;
        const end = start + pageSize;
        const pageTokens = dataToRender.slice(start, end);

        const tbody = document.getElementById('tokensTableBody');
        tbody.innerHTML = '';

        if (pageTokens.length === 0) {
            tbody.innerHTML = '<tr><td colspan="9" style="text-align: center; padding: 2rem; color: var(--dracula-comment);">No tokens found</td></tr>';
            return;
        }

        pageTokens.forEach(token => {
            const user = users.find(u => u.id === token.user_id);
            const now = new Date();
            const isExpired = token.expires_at && new Date(token.expires_at) <= now;

            const tr = document.createElement('tr');
            tr.style.borderBottom = '1px solid var(--dracula-comment)';
            tr.innerHTML = `
                <td style="padding: 1rem; color: var(--dracula-comment);">${token.id}</td>
                <td style="padding: 1rem; color: var(--dracula-foreground); font-weight: 500;">${escapeHtml(token.name)}</td>
                <td style="padding: 1rem; color: var(--dracula-cyan);">${user ? escapeHtml(user.email) : 'Unknown'}</td>
                <td style="padding: 1rem; color: var(--dracula-comment); font-size: 0.875rem;">${token.scopes || 'all'}</td>
                <td style="padding: 1rem; color: var(--dracula-foreground);">${token.rate_limit}/hr</td>
                <td style="padding: 1rem; color: var(--dracula-comment); font-size: 0.875rem;">${formatDate(token.created_at)}</td>
                <td style="padding: 1rem; color: var(--dracula-comment); font-size: 0.875rem;">${token.last_used ? formatDate(token.last_used) : 'Never'}</td>
                <td style="padding: 1rem;">
                    ${isExpired
                        ? '<span style="padding: 0.25rem 0.75rem; background: var(--dracula-orange); color: var(--dracula-bg); border-radius: 4px; font-size: 0.75rem; font-weight: 600;">Expired</span>'
                        : '<span style="padding: 0.25rem 0.75rem; background: var(--dracula-green); color: var(--dracula-bg); border-radius: 4px; font-size: 0.75rem; font-weight: 600;">Active</span>'
                    }
                </td>
                <td style="padding: 1rem;">
                    <button class="btn btn-sm btn-danger" onclick="revokeToken(${token.id})"
                        style="padding: 0.5rem 1rem; background: var(--dracula-red); color: var(--dracula-bg); border: none; border-radius: 4px; cursor: pointer; font-size: 0.875rem;">
                        Revoke
                    </button>
                </td>
            `;
            tbody.appendChild(tr);
        });

        renderPagination(dataToRender.length);
    }

    // Render pagination
    function renderPagination(totalItems) {
        const totalPages = Math.ceil(totalItems / pageSize);
        const pagination = document.getElementById('pagination');

        if (totalPages <= 1) {
            pagination.innerHTML = '';
            return;
        }

        let html = '';

        // Previous button
        html += `<button class="btn btn-sm" ${currentPage === 1 ? 'disabled' : ''} onclick="changePage(${currentPage - 1})"
            style="padding: 0.5rem 1rem; background: var(--dracula-current-line); color: var(--dracula-foreground); border: none; border-radius: 4px; cursor: pointer;">‚Äπ Previous</button>`;

        // Page numbers
        for (let i = 1; i <= totalPages; i++) {
            if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                const active = i === currentPage;
                html += `<button class="btn btn-sm" onclick="changePage(${i})"
                    style="padding: 0.5rem 1rem; background: ${active ? 'var(--dracula-purple)' : 'var(--dracula-current-line)'}; color: ${active ? 'var(--dracula-bg)' : 'var(--dracula-foreground)'}; border: none; border-radius: 4px; cursor: pointer; font-weight: ${active ? '600' : 'normal'};">${i}</button>`;
            } else if (i === currentPage - 3 || i === currentPage + 3) {
                html += `<span class="text-comment">...</span>`;
            }
        }

        // Next button
        html += `<button class="btn btn-sm" ${currentPage === totalPages ? 'disabled' : ''} onclick="changePage(${currentPage + 1})"
            style="padding: 0.5rem 1rem; background: var(--dracula-current-line); color: var(--dracula-foreground); border: none; border-radius: 4px; cursor: pointer;">Next ‚Ä∫</button>`;

        pagination.innerHTML = html;
    }

    // Change page
    function changePage(page) {
        currentPage = page;
        filterTokens();
    }

    // Format date
    function formatDate(dateString) {
        if (!dateString) return '‚Äî';
        const date = new Date(dateString);
        return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    }

    // Escape HTML
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    // Open create token modal
    function openCreateTokenModal() {
        document.getElementById('createTokenForm').reset();
        Modal.open('createTokenModal');
    }

    // Create token
    async function createToken(event) {
        event.preventDefault();

        const tokenData = {
            name: document.getElementById('create_name').value,
            user_id: parseInt(document.getElementById('create_user_id').value),
            scopes: document.getElementById('create_scopes').value || null,
            rate_limit: parseInt(document.getElementById('create_rate_limit').value),
            expires_at: document.getElementById('create_expires_at').value || null
        };

        try {
            const response = await fetch('/api/v1/admin/tokens', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(tokenData)
            });

            if (!response.ok) {
                const error = await response.json();
                throw new Error(error.error || 'Failed to create token');
            }

            const result = await response.json();

            // Show the generated token
            document.getElementById('generatedToken').textContent = result.token;
            Modal.close('createTokenModal');
            Modal.open('tokenDisplayModal');

            // Reload tokens list
            loadTokens();
        } catch (error) {
            Toast.error('Failed to create token: ' + error.message);
            console.error('Error creating token:', error);
        }
    }

    // Copy token to clipboard
    function copyToken() {
        const tokenText = document.getElementById('generatedToken').textContent;
        navigator.clipboard.writeText(tokenText).then(() => {
            Toast.success('Token copied to clipboard!');
        }).catch(err => {
            Toast.error('Failed to copy token');
            console.error('Error copying token:', err);
        });
    }

    // Revoke token
    async function revokeToken(tokenId) {
        const confirmed = await showConfirm('Are you sure you want to revoke this token? This action cannot be undone and will immediately invalidate the token.');
        if (!confirmed) return;

        try {
            const response = await fetch(`/api/v1/admin/tokens/${tokenId}`, {
                method: 'DELETE'
            });

            if (!response.ok) {
                const error = await response.json();
                throw new Error(error.error || 'Failed to revoke token');
            }

            Toast.success('Token revoked successfully');
            loadTokens();
        } catch (error) {
            Toast.error('Failed to revoke token: ' + error.message);
            console.error('Error revoking token:', error);
        }
    }
</script>

<style>
    .btn {
        transition: all 0.2s ease;
    }

    .btn:hover:not([disabled]) {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        align-items: center;
        justify-content: center;
        padding: 2rem;
    }

    .modal-overlay.active {
        display: flex;
    }

    .modal {
        max-height: 90vh;
        overflow-y: auto;
    }

    @media (max-width: 768px) {
        .stats-grid {
            grid-template-columns: 1fr;
        }

        table {
            font-size: 0.875rem;
        }

        th, td {
            padding: 0.75rem !important;
        }
    }
</style>

{{template "footer" .}}
