{{define "admin_nav"}}
<nav class="admin-nav">
    <div class="admin-nav-container">
        <div class="admin-nav-brand">
            <span class="admin-icon">âš¡</span>
            <span class="admin-title">Admin Panel</span>
        </div>
        <div class="admin-nav-menu">
            <a href="/admin" class="admin-nav-link {{if eq .page "dashboard"}}active{{end}}">
                <span class="nav-icon">ğŸ“Š</span>
                Dashboard
            </a>
            <a href="/admin/users" class="admin-nav-link {{if eq .page "users"}}active{{end}}">
                <span class="nav-icon">ğŸ‘¥</span>
                Users
            </a>
            <a href="/admin/settings" class="admin-nav-link {{if eq .page "settings"}}active{{end}}">
                <span class="nav-icon">âš™ï¸</span>
                Settings
            </a>
            <a href="/admin/tokens" class="admin-nav-link {{if eq .page "tokens"}}active{{end}}">
                <span class="nav-icon">ğŸ”‘</span>
                API Tokens
            </a>
            <a href="/admin/logs" class="admin-nav-link {{if eq .page "logs"}}active{{end}}">
                <span class="nav-icon">ğŸ“‹</span>
                Logs
            </a>
            <a href="/admin/tasks" class="admin-nav-link {{if eq .page "tasks"}}active{{end}}">
                <span class="nav-icon">â±ï¸</span>
                Tasks
            </a>
            <a href="/admin/backup" class="admin-nav-link {{if eq .page "backup"}}active{{end}}">
                <span class="nav-icon">ğŸ’¾</span>
                Backup
            </a>
            <a href="/admin/channels" class="admin-nav-link {{if eq .page "channels"}}active{{end}}">
                <span class="nav-icon">ğŸ“¢</span>
                Channels
            </a>
            <a href="/admin/templates" class="admin-nav-link {{if eq .page "templates"}}active{{end}}">
                <span class="nav-icon">ğŸ“</span>
                Templates
            </a>
        </div>
        <div class="admin-nav-user">
            <div class="user-info">
                <span class="user-avatar">{{if .user.Email}}{{index .user.Email 0 | printf "%c" | upper}}{{else}}A{{end}}</span>
                <span class="user-name">{{.user.Email}}</span>
            </div>
            <a href="/logout" class="admin-nav-link logout">
                <span class="nav-icon">ğŸšª</span>
                Logout
            </a>
        </div>
    </div>
</nav>

<style>
.admin-nav {
    background: var(--dracula-current-line);
    border-bottom: 2px solid var(--dracula-purple);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.admin-nav-container {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    padding: 0 2rem;
    gap: 2rem;
}

.admin-nav-brand {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 0;
}

.admin-icon {
    font-size: 1.5rem;
}

.admin-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--dracula-purple);
}

.admin-nav-menu {
    display: flex;
    gap: 0.5rem;
    flex: 1;
    overflow-x: auto;
}

.admin-nav-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 1.25rem;
    color: var(--dracula-foreground);
    text-decoration: none;
    border-bottom: 3px solid transparent;
    transition: all 0.2s ease;
    white-space: nowrap;
    font-weight: 500;
}

.admin-nav-link:hover {
    background: rgba(189, 147, 249, 0.1);
    color: var(--dracula-purple);
}

.admin-nav-link.active {
    color: var(--dracula-purple);
    border-bottom-color: var(--dracula-purple);
    background: rgba(189, 147, 249, 0.05);
}

.nav-icon {
    font-size: 1.1rem;
}

.admin-nav-user {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.5rem 0;
}

.user-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.user-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--dracula-purple);
    color: var(--dracula-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.1rem;
}

.user-name {
    color: var(--dracula-foreground);
    font-weight: 500;
    font-size: 0.9rem;
}

.admin-nav-link.logout {
    color: var(--dracula-red);
    padding: 0.75rem 1rem;
    border-radius: 6px;
}

.admin-nav-link.logout:hover {
    background: rgba(255, 85, 85, 0.1);
}

@media (max-width: 1200px) {
    .admin-nav-menu {
        gap: 0.25rem;
    }
    .admin-nav-link {
        padding: 1rem 0.75rem;
        font-size: 0.9rem;
    }
}

@media (max-width: 768px) {
    .admin-nav-container {
        flex-direction: column;
        gap: 1rem;
    }
    .admin-nav-menu {
        width: 100%;
        justify-content: flex-start;
    }
    .admin-nav-user {
        width: 100%;
        justify-content: space-between;
        border-top: 1px solid var(--dracula-comment);
        padding-top: 1rem;
    }
}
</style>
{{end}}
