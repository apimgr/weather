<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    <link rel="stylesheet" href="/static/css/dracula.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📡</text></svg>">
</head>
<body>
    {{template "navbar" .}}

    <div class="weather-container">
        <div class="page-header">
            <h1>📡 API Documentation</h1>
            <p class="page-subtitle">Complete REST API, GraphQL, and OpenAPI documentation for Weather Service</p>
        </div>

        <!-- Interactive API Tools -->
        <div class="grid-auto-fit-300">
            <a href="/api/swagger" class="info-box" style="text-decoration: none;">
                <h3 class="info-box__title info-box__title--swagger">📘 Swagger UI</h3>
                <div class="info-box__content">
                    <p>Interactive OpenAPI documentation with live API testing</p>
                    <div class="btn btn-primary" style="margin-top: 1rem; display: inline-block;">Launch Swagger UI →</div>
                </div>
            </a>

            <a href="/graphql" class="info-box" style="text-decoration: none;">
                <h3 class="info-box__title info-box__title--graphql">🔷 GraphQL Playground</h3>
                <div class="info-box__content">
                    <p>Interactive GraphQL API explorer with schema documentation</p>
                    <div class="btn btn-primary" style="margin-top: 1rem; display: inline-block;">Launch GraphiQL →</div>
                </div>
            </a>

            <a href="/api" class="info-box" style="text-decoration: none;">
                <h3 class="info-box__title info-box__title--api">🔗 REST API</h3>
                <div class="info-box__content">
                    <p>JSON endpoints for weather, moon, earthquakes, and severe weather</p>
                    <div class="btn btn-primary" style="margin-top: 1rem; display: inline-block;">View Endpoints →</div>
                </div>
            </a>
        </div>

        <!-- Quick Start -->
        <div class="console-section">
            <h3 class="console-section__title">Quick Start Examples</h3>
            <div class="console-commands">
                <div class="command-item">
                    <strong class="console-section__label">Weather API:</strong>
                    <div class="code-wrapper">
                        <code class="mobile-code">curl -q -LSsf {{.HostInfo.FullHost}}/api/v1/weather?location=London</code>
                        <button class="copy-btn" onclick="copyCommand(this, 'curl -q -LSsf {{.HostInfo.FullHost}}/api/v1/weather?location=London')">Copy</button>
                    </div>
                </div>
                <div class="command-item">
                    <strong class="console-section__label">GraphQL Query:</strong>
                    <div class="code-wrapper">
                        <code class="mobile-code">curl -q -LSsf {{.HostInfo.FullHost}}/graphql -d '{query}'</code>
                        <button class="copy-btn" onclick="copyCommand(this, 'curl -q -LSsf {{.HostInfo.FullHost}}/graphql')">Copy</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- API Features -->
        <div class="grid-auto-fit-200">
            <div class="stat-card">
                <h4>🌍 Global Coverage</h4>
                <p>Weather data for any location worldwide</p>
            </div>
            <div class="stat-card">
                <h4>🔓 No API Key</h4>
                <p>Free access without registration</p>
            </div>
            <div class="stat-card">
                <h4>📊 Multiple Formats</h4>
                <p>JSON, GraphQL, and console output</p>
            </div>
            <div class="stat-card">
                <h4>⚡ Real-time Data</h4>
                <p>Live weather updates every 15 minutes</p>
            </div>
        </div>

        <!-- Documentation Links -->
        <div class="console-section">
            <h3 class="console-section__title">Documentation Resources</h3>
            <div class="grid-auto-fit-300">
                <a href="https://apimgr-weather.readthedocs.io" target="_blank" class="btn btn-secondary btn-block">📚 ReadTheDocs</a>
                <a href="https://github.com/apimgr/weather" target="_blank" class="btn btn-secondary btn-block">💻 GitHub Repository</a>
                <a href="/api/openapi.json" class="btn btn-secondary btn-block">📄 OpenAPI Spec (JSON)</a>
            </div>
        </div>
    </div>

    <script>
        function copyCommand(button, text) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = '✓ Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }
    </script>

{{template "footer" .}}
